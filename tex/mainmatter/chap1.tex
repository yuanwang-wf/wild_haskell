%%%%
\chapter{Your first Haskell program}

\section{Build Tools}
\subsection{Stack}

\url{https://docs.haskellstack.org/en/stable/README/}

make sure `stack --version` outputs latest stack version, currently `Version 1.6.5`.

`stack upgrade`
\todo{Add Nix and Cabal}
\section{Editor Integration}
\subsection{VScode with Haskell IDE Engine}
[haskell-ide-engine](https://github.com/haskell/haskell-ide-engine)

Install on MacOS, you need to install `icu4c` on your machine.

git clone https://github.com/haskell/haskell-ide-engine
cd haskell-ide-engine
make



\begin{minted}{bash}
stack install hoogle

hoogle generate
stack install
\end{minted}


\section{HLint and ghcid}

\url{https://github.com/ndmitchell/hlint#installing-and-running-hlint}
\url{https://github.com/ndmitchell/ghcid#using-it}

\section{Your first Haskell program}
\subsection{Using stack}
\verb|stack new guessNumber|

\begin{minted}{haskell}
module Main where

import           Control.Monad
import           Data.Ord      (compare)
import           System.IO     (readLn)
import           System.Random (randomRIO)

guess :: Int -> IO ()
guess secretNumber = do
    print "guess a number"
    guessNumber <- readLn :: IO Int
    case compare guessNumber secretNumber of
        LT -> (print "Too Small!") >> (guess secretNumber)
        EQ -> print "You Win!"
        GT -> (print "Too big!") >> (guess secretNumber)

main :: IO ()
main = do
    secretNumber <- randomRIO (0, 100) :: IO Int
    guess secretNumber
\end{minted}
